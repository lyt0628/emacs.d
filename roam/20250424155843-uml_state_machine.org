:PROPERTIES:
:ID:       08b05d7b-0308-4a2c-b0ac-fc49e1261721
:END:
#+title: uml/state-machine
* 角色
- 状态机(State Machine): 一种特殊的有向图，它根据接受的事件从当前状态，转移到邻接的下一个状态
- 事件(Event): 触发状态机进行状态迁移的信号
- 状态: 状态机的一个节点, 状态机会在活动状态停留一段时间，状态是一个时间段而不是时间点
  - 状态类型
    - 简单状态: 不存在子区域和子状态机的简单状态
    - 并行区域:
      有若干区域组成的状态，每个区域并行执行，进入状态时，所有区域进入初始节点。
      状态机受到的所有事件都会转发给每个区域，每个区域互不干扰。
    - 子态机: 内部维护了一个状态机的状态，状态机相对于区域多了启动和关闭两个生命周期函数
  - 延迟事件:一种特殊的事件，在当前状态无法处理，但是可以留给其他状态处理的事件
  - 伪状态: 特殊的状态，用来控制状态机的转移
- 转移
  - 外部转移: 在当前状态机发生外部转换，会造成当前状态机的直接状态发生变化
  - 内部转移：不转移状态，但是会执行特殊的响应动作
  - 本地转移：在子状态机中发生的转移
  - 初始转移：状态机启动时，向初始状态的转移



* 最简单的状态机模型

#+BEGIN_SRC plantuml :file ../tmp/1367e2d1-c7ce-4c4b-a672-cc6eaa0d9c42.png 
class A {}
#+END_SRC

#+RESULTS:
[[file:../tmp/1367e2d1-c7ce-4c4b-a672-cc6eaa0d9c42.png]]

* 理解延迟事件


* 区分不同转移类型




* 伪状态
** 伪状态类型


* 状态机的特殊行为
** 自动转移



* 常见业务的状态机建模
